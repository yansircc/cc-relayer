import{a as o,f as n,s as B}from"../chunks/Ce1JsnIe.js";import{j as O,ah as Q,a1 as U,a4 as F,s as x,g as s,a5 as N,a6 as $,a7 as V,a9 as y,aa as v,a8 as k,a2 as R,ac as S}from"../chunks/BLL442xA.js";import{B as X,i as A}from"../chunks/BBj9_ryw.js";import{e as Y,i as Z}from"../chunks/CrcuVASb.js";import{s as j}from"../chunks/BXgLrMXN.js";import{s as aa,a as ea}from"../chunks/Dh3P-UHa.js";import{b as u}from"../chunks/BE41A0-c.js";import{g as sa}from"../chunks/BasH8Q2U.js";import{p as ra}from"../chunks/CtzWjIl6.js";function ta(d,i,...l){var m=new X(d);O(()=>{const c=i()??null;m.ensure(c,c&&(h=>c(h,...l)))},Q)}var oa=n('<span class="sep">|</span>'),na=n("<strong> </strong>"),la=n('<a class="svelte-12qhfyh"> </a>'),ca=n("<!> <!>",1),ia=n('<nav class="svelte-12qhfyh"></nav>'),ha=n('<h1><a style="text-decoration:none;color:inherit;">cc-relayer</a></h1> <!> <!>',1);function xa(d,i){U(i,!0);const l=()=>aa(ra,"$page",m),[m,c]=ea();let h=R(!0),_=R(!1);F(()=>{fetch("/admin/health",{credentials:"same-origin",cache:"no-store"}).then(r=>{r.status===401&&x(h,!1),x(_,!0)}).catch(()=>{x(_,!0)})}),F(()=>{s(_)&&!s(h)&&!l().url.pathname.endsWith("/login")&&sa(`${u}/login`,{replaceState:!0})});const w=[{href:"/dashboard",label:"dashboard"},{href:"/accounts",label:"accounts"},{href:"/users",label:"users"},{href:"/add-account",label:"add account"},{href:"/sessions",label:"sessions"},{href:"/logs",label:"logs"}];function C(r,t){const f=r.replace(u,"")||"/";return f===t||f.startsWith(t+"/")}var E=ha(),g=N(E),I=y(g);v(g);var T=k(g,2);{var M=r=>{var t=ia();Y(t,21,()=>w,Z,(f,p,D)=>{var W=ca(),q=N(W);{var G=a=>{var e=oa();o(a,e)};A(q,a=>{D>0&&a(G)})}var H=k(q,2);{var J=a=>{var e=na(),b=y(e,!0);v(e),$(()=>B(b,s(p).label)),o(a,e)},K=S(()=>C(l().url.pathname,s(p).href)),L=a=>{var e=la(),b=y(e,!0);v(e),$(()=>{j(e,"href",`${u??""}${s(p).href??""}`),B(b,s(p).label)}),o(a,e)};A(H,a=>{s(K)?a(J):a(L,!1)})}o(f,W)}),v(t),o(r,t)},P=S(()=>!l().url.pathname.endsWith("/login"));A(T,r=>{s(P)&&r(M)})}var z=k(T,2);ta(z,()=>i.children),$(()=>j(I,"href",`${u??""}/dashboard`)),o(d,E),V(),c()}export{xa as component};
