import{c as ea,a as v,f as c,t as ft}from"../chunks/YPNk2NX5.js";import{b as ra,ab as sa,n as g,f as tt,d as oa,s as F,g as t,j as e,k as a,e as s,m as x,aa as da,ac as at}from"../chunks/ABNvuIHC.js";import{d as na,s as d,a as la}from"../chunks/e87nZPu-.js";import{i as $}from"../chunks/CCxA75cu.js";import{c as bt,t as ua,f as va,s as et,a as _a,e as rt,b as p,d as st,g as ca,h as ia}from"../chunks/cNbZ-Ql0.js";import{s as gt}from"../chunks/ct8flr_T.js";import{s as ma,a as ha}from"../chunks/BJOaqqeD.js";import{p as pa}from"../chunks/5NzNco59.js";import{g as fa}from"../chunks/DP1SWo-P.js";import{b as ot}from"../chunks/DmuWyb2n.js";import{a as K}from"../chunks/DtH33QRI.js";import{C as xt}from"../chunks/EPbnI6Jf.js";const ba=!1,Ka=Object.freeze(Object.defineProperty({__proto__:null,ssr:ba},Symbol.toStringTag,{value:"Module"}));var ga=c('<p class="error-msg"> </p> <p><a>&larr; back to dashboard</a></p>',1),xa=c('<p class="loading">loading user...</p>'),ka=c('<p class="error-msg"> </p>'),ya=c('<div class="bar">token: <b> </b> <br/><br/> <span class="r">Copy now -- this token will not be shown again.</span> <br/> Configure Claude Code: <br/> </div>'),Ca=c('<span class="muted">-</span>'),Ta=c('<p class="muted">no usage data</p>'),wa=c("<b> </b>"),Sa=c('<tr><td> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"><!></td></tr>'),qa=c('<table><thead><tr><th></th><th class="num">requests</th><th class="num">input</th><th class="num">output</th><th class="num">cache read</th><th class="num">cost</th></tr></thead><tbody></tbody></table>'),Da=c('<p class="muted">no model data</p>'),$a=c('<tr><td> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td></tr>'),Oa=c('<table><thead><tr><th>model</th><th class="num">reqs</th><th class="num">input</th><th class="num">output</th><th class="num">cache read</th><th class="num">cost</th></tr></thead><tbody></tbody></table>'),Aa=c('<p class="muted">no recent requests</p>'),Ea=c('<tr><td class="muted"> </td><td> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td> </td><td> </td><td class="num"> </td></tr>'),Ia=c('<table><thead><tr><th>time</th><th>model</th><th class="num">input</th><th class="num">output</th><th class="num">cache r/w</th><th>account</th><th>status</th><th class="num">duration</th></tr></thead><tbody></tbody></table>'),Ma=c('<h2> <span> </span></h2> <div class="actions"><!> <button> </button> <!></div> <!> <!> <dl><dt>token prefix</dt> <dd> <span class="muted">(full token not stored)</span></dd> <dt>created</dt> <dd> </dd> <dt>last active</dt> <dd><!></dd></dl> <h2>usage</h2> <!> <h2>by model (7 days)</h2> <!> <h2>recent requests</h2> <!> <p style="margin-top:16px;font-size:12px"><a>&larr; back</a></p>',1);function Ya(kt,yt){ra(yt,!0);const Ct=()=>ma(pa,"$page",Tt),[Tt,wt]=ha();let l=F(null),Y=F(""),dt=F(!0),H=F(""),S=F("");sa(()=>{St()});async function St(){try{g(l,await K("/users/"+Ct().params.id),!0)}catch(u){g(Y,u.message,!0)}finally{g(dt,!1)}}async function qt(){if(t(l)){g(S,"");try{const u=await K(`/users/${t(l).id}/regenerate`,{method:"POST"});g(H,u.token,!0)}catch(u){g(S,u.message,!0)}}}async function Dt(){if(!t(l))return;const u=t(l).status==="active"?"disabled":"active";g(S,"");try{await K(`/users/${t(l).id}/status`,{method:"POST",body:JSON.stringify({status:u})}),t(l).status=u}catch(b){g(S,b.message,!0)}}async function $t(){if(t(l)){g(S,"");try{await K(`/users/${t(l).id}`,{method:"DELETE"}),fa(`${ot}/dashboard`)}catch(u){g(S,u.message,!0)}}}var nt=ea(),Ot=tt(nt);{var At=u=>{var b=ga(),j=tt(b),J=e(j,!0);a(j);var z=s(j,2),B=e(z);a(z),x(()=>{d(J,t(Y)),gt(B,"href",`${ot??""}/dashboard`)}),v(u,b)},Et=u=>{var b=xa();v(u,b)},It=u=>{const b=at(()=>t(l).usage??[]),j=at(()=>t(l).model_usage??[]),J=at(()=>t(l).recent_requests??[]);var z=Ma(),B=tt(z),lt=e(B),Q=s(lt),Mt=e(Q,!0);a(Q),a(B);var V=s(B,2),ut=e(V);xt(ut,{label:"[regenerate token]",onclick:qt});var G=s(ut,2),Pt=e(G);a(G);var jt=s(G,2);xt(jt,{label:"[delete]",cls:"r",onclick:$t}),a(V);var vt=s(V,2);{var Lt=r=>{var o=ka(),_=e(o,!0);a(o),x(()=>d(_,t(S))),v(r,o)};$(vt,r=>{t(S)&&r(Lt)})}var _t=s(vt,2);{var Nt=r=>{var o=ya(),_=s(e(o)),i=e(_,!0);a(_);var n=s(_,10);a(o),x(()=>{d(i,t(H)),d(n,`   export ANTHROPIC_API_KEY=${t(H)??""}`)}),v(r,o)};$(_t,r=>{t(H)&&r(Nt)})}var W=s(_t,2),X=s(e(W),2),zt=e(X);da(),a(X);var Z=s(X,4),Bt=e(Z,!0);a(Z);var ct=s(Z,4),Gt=e(ct);{var Rt=r=>{var o=ft();x((_,i)=>d(o,`${_??""} (${i??""})`),[()=>_a(t(l).last_active_at),()=>new Date(t(l).last_active_at).toLocaleTimeString("en-GB",{hour12:!1})]),v(r,o)},Ut=r=>{var o=Ca();v(r,o)};$(Gt,r=>{t(l).last_active_at?r(Rt):r(Ut,!1)})}a(ct),a(W);var it=s(W,4);{var Ft=r=>{var o=Ta();v(r,o)},Ht=r=>{var o=qa(),_=s(e(o));rt(_,23,()=>t(b),i=>i.label,(i,n,k)=>{var f=Sa(),O=e(f),y=e(O,!0);a(O);var A=s(O),C=e(A,!0);a(A);var E=s(A),T=e(E,!0);a(E);var I=s(E),w=e(I,!0);a(I);var M=s(I),q=e(M,!0);a(M);var L=s(M),D=e(L);{var R=m=>{var h=wa(),P=e(h,!0);a(h),x(U=>d(P,U),[()=>st(t(n).cost_usd)]),v(m,h)},N=m=>{var h=ft();x(P=>d(h,P),[()=>st(t(n).cost_usd)]),v(m,h)};$(D,m=>{t(k)===t(b).length-1?m(R):m(N,!1)})}a(L),a(f),x((m,h,P,U)=>{d(y,t(n).label),d(C,m),d(T,h),d(w,P),d(q,U)},[()=>p(t(n).requests),()=>p(t(n).input_tokens),()=>p(t(n).output_tokens),()=>p(t(n).cache_read_tokens)]),v(i,f)}),a(_),a(o),v(r,o)};$(it,r=>{t(b).length===0?r(Ft):r(Ht,!1)})}var mt=s(it,4);{var Jt=r=>{var o=Da();v(r,o)},Kt=r=>{var o=Oa(),_=s(e(o));rt(_,21,()=>t(j),i=>i.model,(i,n)=>{var k=$a(),f=e(k),O=e(f,!0);a(f);var y=s(f),A=e(y,!0);a(y);var C=s(y),E=e(C,!0);a(C);var T=s(C),I=e(T,!0);a(T);var w=s(T),M=e(w,!0);a(w);var q=s(w),L=e(q,!0);a(q),a(k),x((D,R,N,m,h)=>{d(O,t(n).model),d(A,D),d(E,R),d(I,N),d(M,m),d(L,h)},[()=>p(t(n).requests),()=>p(t(n).input_tokens),()=>p(t(n).output_tokens),()=>p(t(n).cache_read_tokens),()=>st(t(n).cost_usd)]),v(i,k)}),a(_),a(o),v(r,o)};$(mt,r=>{t(j).length===0?r(Jt):r(Kt,!1)})}var ht=s(mt,4);{var Yt=r=>{var o=Aa();v(r,o)},Qt=r=>{var o=Ia(),_=s(e(o));rt(_,21,()=>t(J),i=>i.ID,(i,n)=>{var k=Ea(),f=e(k),O=e(f,!0);a(f);var y=s(f),A=e(y,!0);a(y);var C=s(y),E=e(C,!0);a(C);var T=s(C),I=e(T,!0);a(T);var w=s(T),M=e(w);a(w);var q=s(w),L=e(q,!0);a(q);var D=s(q),R=e(D,!0);a(D);var N=s(D),m=e(N,!0);a(N),a(k),x((h,P,U,Wt,Xt,Zt,ta,aa)=>{d(O,h),d(A,P),d(E,U),d(I,Wt),d(M,`${Xt??""} / ${Zt??""}`),d(L,t(n).AccountID),et(D,1,ta),d(R,t(n).Status),d(m,aa)},[()=>new Date(t(n).CreatedAt).toLocaleTimeString("en-GB",{hour12:!1}),()=>ca(t(n).Model),()=>p(t(n).InputTokens),()=>p(t(n).OutputTokens),()=>p(t(n).CacheReadTokens),()=>p(t(n).CacheCreateTokens),()=>bt(ia(t(n).Status)),()=>t(n).DurationMs>0?(t(n).DurationMs/1e3).toFixed(1)+"s":"-"]),v(i,k)}),a(_),a(o),v(r,o)};$(ht,r=>{t(J).length===0?r(Yt):r(Qt,!1)})}var pt=s(ht,2),Vt=e(pt);a(pt),x((r,o)=>{d(lt,`${t(l).name??""} `),et(Q,1,r),d(Mt,t(l).status),et(G,1,`link ${t(l).status==="active"?"r":"g"}`),d(Pt,`[${t(l).status==="active"?"disable":"enable"}]`),d(zt,`${t(l).token_prefix??""} `),d(Bt,o),gt(Vt,"href",`${ot??""}/dashboard`)},[()=>bt(ua(t(l).status)),()=>va(t(l).created_at)]),la("click",G,Dt),v(u,z)};$(Ot,u=>{t(Y)?u(At):t(dt)?u(Et,1):t(l)&&u(It,2)})}v(kt,nt),oa(),wt()}na(["click"]);export{Ya as component,Ka as universal};
