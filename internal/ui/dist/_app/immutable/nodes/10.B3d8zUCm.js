import{d as zt,e as $t,a as f,s as d,f as _,b as Q}from"../chunks/Ce1JsnIe.js";import{a1 as At,a2 as p,a3 as Ut,a4 as It,s as u,a5 as Jt,a6 as y,g as e,a7 as Mt,a8 as o,a9 as s,aa as r}from"../chunks/BLL442xA.js";import{i as V}from"../chunks/BBj9_ryw.js";import{e as Rt,i as Et}from"../chunks/CrcuVASb.js";import{r as Ht,s as Kt}from"../chunks/BXgLrMXN.js";import{c as W,s as X}from"../chunks/CQtkrdUT.js";import{b as Lt}from"../chunks/C1SpsZ0d.js";import{b as Yt}from"../chunks/BE41A0-c.js";import{a as x}from"../chunks/0xq203u2.js";import{t as Bt,f as k}from"../chunks/C5Uh6Ygl.js";const Ft=!1,ue=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ft},Symbol.toStringTag,{value:"Module"}));var Gt=_('<div style="background:#f4f4f4;padding:4px 8px;font-size:12px;margin:6px 0">token: <b> </b> <br/><br/> <span class="r">Copy now -- this token will not be shown again.</span> <br/> Configure Claude Code: <br/> </div>'),Qt=_('<p class="error-msg"> </p>'),Vt=_('<p class="loading">loading users...</p>'),Wt=_('<tr><td><a> </a></td><td><span> </span></td><td> </td><td> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td class="num"> </td><td><a href="javascript:void(0)" style="font-size:12px">regenerate</a> <a href="javascript:void(0)" style="font-size:12px"> </a></td></tr>'),Xt=_("<table><thead><tr><th>name</th><th>status</th><th>created</th><th>last active</th><th>today reqs</th><th>today input</th><th>today output</th><th>7d reqs</th><th>7d input</th><th>7d output</th><th></th></tr></thead><tbody></tbody></table>"),Zt=_('<fieldset><legend>create user token</legend> <form><label for="new-user-name">name</label> <input id="new-user-name" type="text" placeholder="e.g. alice" style="width:200px"/> <button type="submit"> </button></form> <!></fieldset> <h2>users <span class="muted"> </span></h2> <!>',1);function ve(Z,tt){At(tt,!0);let w=p(Ut([])),S=p(""),K=p(!0),v=p(""),c=p(""),g=p(!1);It(()=>{O()});async function O(){try{u(w,await x("/users"),!0)}catch(t){u(S,t.message,!0)}finally{u(K,!1)}}async function et(t){if(t.preventDefault(),!!e(v).trim()){u(g,!0),u(c,"");try{const a=await x("/users",{method:"POST",body:JSON.stringify({name:e(v).trim()})});u(c,a.token,!0),await O()}catch(a){alert(a.message)}finally{u(g,!1)}}}function at(t){return t==="active"?"tag tag-active":t==="disabled"?"tag tag-disabled":"tag"}function rt(t){if(!t)return"-";const a=new Date(t);return String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}function L(t){return t.toLocaleString()}async function st(t,a){if(confirm(`Regenerate token for ${a}? The old token will stop working.`))try{const l=await x(`/users/${t}/regenerate`,{method:"POST"});u(c,l.token,!0),u(v,a,!0)}catch(l){alert(l.message)}}async function nt(t,a){const l=a==="active"?"disabled":"active";try{await x(`/users/${t}/status`,{method:"POST",body:JSON.stringify({status:l})}),await O()}catch(m){alert(m.message)}}var Y=Zt(),T=Jt(Y),h=o(s(T),2),C=o(s(h),2);Ht(C);var D=o(C,2),ot=s(D,!0);r(D),r(h);var it=o(h,2);{var dt=t=>{var a=Gt(),l=o(s(a)),m=s(l,!0);r(l);var i=o(l,10);r(a),y(()=>{d(m,e(c)),d(i,`   export ANTHROPIC_API_KEY=${e(c)??""}`)}),f(t,a)};V(it,t=>{e(c)&&t(dt)})}r(T);var N=o(T,2),B=o(s(N)),lt=s(B);r(B),r(N);var ut=o(N,2);{var vt=t=>{var a=Qt(),l=s(a,!0);r(a),y(()=>d(l,e(S))),f(t,a)},ct=t=>{var a=Vt();f(t,a)},ft=t=>{var a=Xt(),l=o(s(a));Rt(l,21,()=>e(w),Et,(m,i)=>{var P=Wt(),j=s(P),q=s(j),pt=s(q,!0);r(q),r(j);var z=o(j),$=s(z),_t=s($,!0);r($),r(z);var A=o(z),mt=s(A,!0);r(A);var U=o(A),gt=s(U,!0);r(U);var I=o(U),ht=s(I,!0);r(I);var J=o(I),bt=s(J,!0);r(J);var M=o(J),yt=s(M,!0);r(M);var R=o(M),xt=s(R,!0);r(R);var E=o(R),kt=s(E,!0);r(E);var H=o(E),wt=s(H,!0);r(H);var F=o(H),G=s(F),b=o(G,2),St=s(b,!0);r(b),r(F),r(P),y((n,Ot,Tt,Ct,Dt,Nt,Pt,jt,qt)=>{Kt(q,"href",`${Yt??""}/users/${e(i).id??""}`),d(pt,e(i).name),X($,1,n),d(_t,e(i).status),d(mt,Ot),d(gt,Tt),d(ht,Ct),d(bt,Dt),d(yt,Nt),d(xt,Pt),d(kt,jt),d(wt,qt),X(b,1,W(e(i).status==="active"?"r":"g")),d(St,e(i).status==="active"?"disable":"enable")},[()=>W(at(e(i).status)),()=>rt(e(i).created_at),()=>Bt(e(i).last_active_at??""),()=>{var n;return L(((n=e(i).today_usage)==null?void 0:n.request_count)??0)},()=>{var n;return k(((n=e(i).today_usage)==null?void 0:n.input_tokens)??0)},()=>{var n;return k(((n=e(i).today_usage)==null?void 0:n.output_tokens)??0)},()=>{var n;return L(((n=e(i).week_usage)==null?void 0:n.request_count)??0)},()=>{var n;return k(((n=e(i).week_usage)==null?void 0:n.input_tokens)??0)},()=>{var n;return k(((n=e(i).week_usage)==null?void 0:n.output_tokens)??0)}]),Q("click",G,n=>{n.preventDefault(),st(e(i).id,e(i).name)}),Q("click",b,n=>{n.preventDefault(),nt(e(i).id,e(i).status)}),f(m,P)}),r(l),r(a),f(t,a)};V(ut,t=>{e(S)?t(vt):e(K)?t(ct,1):t(ft,!1)})}y(t=>{D.disabled=t,d(ot,e(g)?"creating...":"create"),d(lt,`(${e(w).length??""})`)},[()=>e(g)||!e(v).trim()]),$t("submit",h,et),Lt(C,()=>e(v),t=>u(v,t)),f(Z,Y),Mt()}zt(["click"]);export{ve as component,ue as universal};
