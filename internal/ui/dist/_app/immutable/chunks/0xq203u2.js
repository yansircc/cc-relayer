var o=Object.defineProperty;var c=(e,s,t)=>s in e?o(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var a=(e,s,t)=>c(e,typeof s!="symbol"?s+"":s,t);class r extends Error{constructor(t,n){super(n);a(this,"status");this.status=t}}async function d(e,s={}){const t=await fetch(`/admin${e}`,{credentials:"same-origin",headers:{"Content-Type":"application/json",...s.headers},...s});if(t.status===401)throw window.location.href="/ui/login",new r(401,"Unauthorized");if(!t.ok){const i=await t.text();throw new r(t.status,i||t.statusText)}const n=t.headers.get("content-type");return n!=null&&n.includes("application/json")?t.json():t.text()}export{d as a};
